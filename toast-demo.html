<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Toast Notification Demo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            padding: 40px;
            background: #f5f5f5;
        }
        .demo-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            margin-bottom: 30px;
        }
        .demo-section {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        button {
            padding: 12px 24px;
            margin: 5px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
        }
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .btn-warning {
            background: #f39c12;
            color: white;
        }
        .btn-danger {
            background: #e74c3c;
            color: white;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <h1>ğŸ‰ Enhanced Toast Notification Demo</h1>
        
        <div class="demo-section">
            <h2>é€šå¸¸ã®æ›´æ–°ï¼ˆå¤‰æ›´ãªã—ï¼‰</h2>
            <p>ãƒ‡ãƒ¼ã‚¿ã«å¤‰æ›´ãŒãªã„å ´åˆã®ã‚·ãƒ³ãƒ—ãƒ«ãªæˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</p>
            <button class="btn-primary" onclick="showNoChanges()">è¡¨ç¤º</button>
        </div>

        <div class="demo-section">
            <h2>å°è¦æ¨¡ãªå¤‰æ›´</h2>
            <p>ãƒšãƒ¼ã‚¸æ•°ã¨å·¥ç¨‹æ•°ã®å¤‰æ›´ã®ã¿</p>
            <button class="btn-primary" onclick="showSmallChanges()">è¡¨ç¤º</button>
        </div>

        <div class="demo-section">
            <h2>è­¦å‘Šã‚ã‚Š</h2>
            <p>é«˜è² è·ã‚„ç´æœŸå•é¡Œã®è­¦å‘Šã‚’å«ã‚€</p>
            <button class="btn-warning" onclick="showWithWarnings()">è¡¨ç¤º</button>
        </div>

        <div class="demo-section">
            <h2>è©³ç´°ãªå¤‰æ›´ã¨æ¨å¥¨äº‹é …</h2>
            <p>ãƒšãƒ¼ã‚¸è¿½åŠ /å‰Šé™¤ã€å·¥ç¨‹å¤‰æ›´ã€è­¦å‘Šã€æ¨å¥¨äº‹é …ã™ã¹ã¦å«ã‚€</p>
            <button class="btn-danger" onclick="showFullDetailed()">è¡¨ç¤º</button>
        </div>
    </div>

    <script>
        // Toastè¡¨ç¤ºé–¢æ•°
        function showDetailedUpdateMessage(previousData, currentData, changes, warnings, recommendations) {
            const existingMessage = document.querySelector(".update-message");
            if (existingMessage) {
                existingMessage.remove();
            }

            const messageDiv = document.createElement("div");
            messageDiv.className = "update-message";
            messageDiv.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                max-width: 450px;
                background: white;
                border-radius: 12px;
                box-shadow: 0 8px 24px rgba(0,0,0,0.15);
                z-index: 1000;
                animation: slideIn 0.3s ease-out;
                overflow: hidden;
            `;

            const header = document.createElement("div");
            header.style.cssText = `
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 15px 20px;
                font-weight: bold;
                font-size: 16px;
            `;
            header.innerHTML = "âœ¨ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã—ã¾ã—ãŸ";

            const content = document.createElement("div");
            content.style.cssText = "padding: 20px;";

            if (changes.length > 0) {
                const changesSection = document.createElement("div");
                changesSection.style.cssText = "margin-bottom: 15px;";
                changesSection.innerHTML = `
                    <div style="font-weight: 600; color: #2c3e50; margin-bottom: 10px; font-size: 14px;">ğŸ“ å¤‰æ›´å†…å®¹</div>
                    ${changes.map(change => `
                        <div style="display: flex; align-items: center; gap: 8px; padding: 8px 0; font-size: 13px; color: #495057;">
                            <span style="font-size: 16px;">${change.icon}</span>
                            <span>${change.text}</span>
                        </div>
                    `).join('')}
                `;
                content.appendChild(changesSection);
            }

            if (warnings.length > 0) {
                const warningsSection = document.createElement("div");
                warningsSection.style.cssText = `
                    background: #fff3cd;
                    border: 1px solid #ffeeba;
                    border-radius: 6px;
                    padding: 12px;
                    margin-bottom: 15px;
                `;
                warningsSection.innerHTML = `
                    <div style="font-weight: 600; color: #856404; margin-bottom: 8px; font-size: 14px;">âš ï¸ è­¦å‘Š</div>
                    ${warnings.map(warning => `
                        <div style="font-size: 12px; color: #856404; margin-bottom: 4px;">â€¢ ${warning}</div>
                    `).join('')}
                `;
                content.appendChild(warningsSection);
            }

            if (recommendations.length > 0) {
                const recommendationsSection = document.createElement("div");
                recommendationsSection.style.cssText = `
                    background: #d1ecf1;
                    border: 1px solid #bee5eb;
                    border-radius: 6px;
                    padding: 12px;
                `;
                recommendationsSection.innerHTML = `
                    <div style="font-weight: 600; color: #0c5460; margin-bottom: 8px; font-size: 14px;">ğŸ’¡ æ¨å¥¨äº‹é …</div>
                    ${recommendations.map(rec => `
                        <div style="font-size: 12px; color: #0c5460; margin-bottom: 4px;">â€¢ ${rec}</div>
                    `).join('')}
                `;
                content.appendChild(recommendationsSection);
            }

            if (changes.length === 0) {
                content.innerHTML = `
                    <div style="text-align: center; padding: 20px; color: #6c757d;">
                        <div style="font-size: 48px; margin-bottom: 10px;">âœ…</div>
                        <div style="font-size: 14px;">ãƒ‡ãƒ¼ã‚¿ã¯æ­£å¸¸ã«æ›´æ–°ã•ã‚Œã¾ã—ãŸ</div>
                    </div>
                `;
            }

            const closeButton = document.createElement("button");
            closeButton.style.cssText = `
                position: absolute;
                top: 15px;
                right: 15px;
                background: none;
                border: none;
                color: white;
                font-size: 20px;
                cursor: pointer;
                opacity: 0.8;
                transition: opacity 0.2s;
            `;
            closeButton.innerHTML = "Ã—";
            closeButton.onmouseover = () => closeButton.style.opacity = "1";
            closeButton.onmouseout = () => closeButton.style.opacity = "0.8";
            closeButton.onclick = () => {
                messageDiv.style.animation = "slideOut 0.3s ease-out";
                setTimeout(() => messageDiv.remove(), 300);
            };

            header.appendChild(closeButton);
            messageDiv.appendChild(header);
            messageDiv.appendChild(content);
            document.body.appendChild(messageDiv);

            const displayTime = (warnings.length > 0 || recommendations.length > 0) ? 8000 : 5000;
            setTimeout(() => {
                if (document.contains(messageDiv)) {
                    messageDiv.style.animation = "slideOut 0.3s ease-out";
                    setTimeout(() => messageDiv.remove(), 300);
                }
            }, displayTime);
        }

        // ãƒ‡ãƒ¢é–¢æ•°
        function showNoChanges() {
            showDetailedUpdateMessage({}, {}, [], [], []);
        }

        function showSmallChanges() {
            const changes = [
                { icon: "ğŸ“„", text: "ãƒšãƒ¼ã‚¸æ•°: 30 â†’ 35 (+5)" },
                { icon: "ğŸ”§", text: "å·¥ç¨‹æ•°: 8 â†’ 9 (+1)" },
                { icon: "ğŸ“Š", text: "ç·ã‚¿ã‚¹ã‚¯æ•°: 240 â†’ 315 (+75)" }
            ];
            showDetailedUpdateMessage({}, {}, changes, [], []);
        }

        function showWithWarnings() {
            const changes = [
                { icon: "ğŸ“„", text: "ãƒšãƒ¼ã‚¸æ•°: 35 â†’ 55 (+20)" },
                { icon: "ğŸ“…", text: "æœŸé–“: 18é€± â†’ 12é€± (-6)" },
                { icon: "ğŸ“Š", text: "ç·ã‚¿ã‚¹ã‚¯æ•°: 315 â†’ 495 (+180)" }
            ];
            const warnings = [
                "ãƒšãƒ¼ã‚¸æ•°ãŒ50ã‚’è¶…ãˆã¦ã„ã¾ã™ã€‚ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒå³ã—ããªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚",
                "é€±å¹³å‡41ã‚¿ã‚¹ã‚¯ã¯é«˜è² è·ã§ã™ã€‚ãƒãƒ¼ãƒ ã®è² æ‹…ã‚’è€ƒæ…®ã—ã¦ãã ã•ã„ã€‚",
                "ç¬¬8é€±ã«65ã‚¿ã‚¹ã‚¯ã®ãƒ”ãƒ¼ã‚¯ãŒã‚ã‚Šã¾ã™ã€‚è² è·åˆ†æ•£ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚"
            ];
            const recommendations = [
                "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæœŸé–“ã®å»¶é•·ã¾ãŸã¯æ®µéšçš„ãªãƒªãƒªãƒ¼ã‚¹ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚",
                "ç¬¬1é€±ã®é–‹å§‹ãƒšãƒ¼ã‚¸æ•°ï¼ˆ3ï¼‰ã‚’å¢—ã‚„ã™ã“ã¨ã§ã€å¾ŒåŠã®è² è·ã‚’è»½æ¸›ã§ãã¾ã™ã€‚"
            ];
            showDetailedUpdateMessage({}, {}, changes, warnings, recommendations);
        }

        function showFullDetailed() {
            const changes = [
                { icon: "ğŸ“„", text: "ãƒšãƒ¼ã‚¸æ•°: 30 â†’ 35 (+5)" },
                { icon: "â•", text: "æ–°è¦ãƒšãƒ¼ã‚¸: å•†å“è©³ç´°, ã‚«ãƒ¼ãƒˆ, æ±ºæ¸ˆç”»é¢ ä»–2ä»¶" },
                { icon: "ğŸ”§", text: "å·¥ç¨‹æ•°: 8 â†’ 9 (+1)" },
                { icon: "ğŸ†•", text: "æ–°è¦å·¥ç¨‹: ãƒ†ã‚¹ãƒˆå®Ÿæ–½" },
                { icon: "ğŸ“…", text: "æœŸé–“: 20é€± â†’ 18é€± (-2)" },
                { icon: "ğŸ“Š", text: "ç·ã‚¿ã‚¹ã‚¯æ•°: 240 â†’ 315 (+75)" },
                { icon: "ğŸ’»", text: "ecbeingå´: 180 â†’ 245 (+65)" },
                { icon: "ğŸ‘¥", text: "ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´: 60 â†’ 70 (+10)" }
            ];
            const warnings = [
                "ecbeingå´ã®ã‚¿ã‚¹ã‚¯ãŒã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã«æ¯”ã¹ã¦å¤šã™ãã¾ã™ã€‚",
                "ç¾åœ¨ã®è¨­å®šã§ã¯ç´æœŸã¾ã§ã«å®Œäº†ã§ãã¾ã›ã‚“ï¼ˆæœ€çµ‚å®Œäº†ç‡: 92%ï¼‰"
            ];
            const recommendations = [
                "ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ç¢ºèªå·¥ç¨‹ã‚’é©åˆ‡ã«é…ç½®ã—ã€ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®é…å»¶ã‚’é˜²ãã¾ã—ã‚‡ã†ã€‚",
                "ç¬¬1é€±ã®é–‹å§‹ãƒšãƒ¼ã‚¸æ•°ã‚’9ä»¥ä¸Šã«å¢—ã‚„ã™ã‹ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæœŸé–“ã‚’å»¶é•·ã—ã¦ãã ã•ã„ã€‚"
            ];
            showDetailedUpdateMessage({}, {}, changes, warnings, recommendations);
        }
    </script>
</body>
</html>