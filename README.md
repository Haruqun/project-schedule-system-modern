# プロジェクトスケジュール管理システム

段階的工程管理システム - 個別進行版

## 概要

このシステムは、複数ページの制作プロジェクトを効率的に管理するためのスケジューリングツールです。各ページが独立して9つの工程を進行し、18週間でプロジェクトを完了させるスケジュールを自動生成します。

## 主な機能

### 📋 個別進行方式
- 各ページが独立して進行するため、柔軟な管理が可能
- ページごとに9つの工程（PCデザイン、SPデザイン、コーディング）を管理

### ⏰ 3営業日ルール
- 修正依頼は案提出から3営業日以内（同週内）に自動配置
- クライアント側のタスクを適切なタイミングで配置

### 📊 負荷の可視化
- 週次のタスク量をグラフで確認
- ecbeing側とクライアント側のタスク数を分離して表示
- 無理のない計画を立案可能

## 使い方

### 1. プロジェクト設定
- **プロジェクト期間**: 8〜52週間の範囲で設定可能（デフォルト: 18週間）
- **ミーティング曜日**: 週次ミーティングの曜日を選択（デフォルト: 水曜日）

### 2. ページ一覧の入力
制作するページを1行ずつ入力します。例：
```
トップページ(top)
商品一覧(product_list)
商品詳細(product_detail)
カート(cart)
...
```

### 3. 作業工程の入力
各ページで実施する工程を順番に入力します。デフォルト：
```
PCデザイン提出
PCデザイン修正依頼提出
PCデザイン修正版提出&確認確定
SPデザイン提出
SPデザイン修正依頼提出
SPデザイン修正版提出&確認確定
PC/SPコーディング提出
PC/SPコーディング修正依頼提出
PC/SPコーディング修正版提出&確認確定
```

### 4. スケジュール開始設定
- **第1週に開始するページ数**: 1〜10ページの範囲で設定可能（デフォルト: 7ページ）
- **週次タスク上限設定**: 週あたりのecbeing側タスク数に上限を設定（0 = 制限なし）
  - 推奨値: 15-20タスク/週
  - 上限を超える場合は自動的に後続週に分散
- 残りのページは自動的に適切な週に配分されます

### 5. データ更新とエクスポート
- 「🚀 プロジェクトデータを更新」ボタンでスケジュールを再生成
- CSVエクスポート機能で詳細なスケジュールをダウンロード可能

## タスクの分類

### 🔴 ecbeing側タスク
- PCデザイン提出
- SPデザイン提出
- PC/SPコーディング提出

### 🟢 クライアント側タスク
- 修正依頼提出（全て）

### 🟡 共同タスク
- 修正版提出&確認確定（ecbeingが提出、クライアントが確認）

## スケジュール生成ロジック

1. **第1週の開始ページ数**を基準に、残りのページを効率的に配分
2. 各ページは**9週間**かけて全工程を完了
3. **並行作業**により18週間で35ページを完了可能
4. 修正依頼は**3営業日以内**（同週内）に自動配置

## 警告・推奨機能

### ⚠️ 警告表示
- 納期までに100%完了できない場合
- 週次タスクが高負荷（40件以上）の場合
- 特定週のピーク負荷が高すぎる場合

### 💡 推奨事項
- 最適な第1週開始ページ数の提案
- 負荷分散のためのアドバイス
- プロジェクト期間延長の提案

## 技術仕様

### ファイル構成
- `main.html` - メインのHTMLファイル
- `main.js` - コアロジックとUI制御
- `schedule-patterns.js` - スケジュール生成アルゴリズム
- `schedule-data.js` - プロジェクトデータの定義

### 主要な関数
- `generateMeetingsForPattern()` - スケジュールパターンに基づいてミーティングデータを生成
- `generateScheduleWithPattern(pagesPerWeek)` - ページ配分に基づいて詳細なスケジュールを生成
- `checkScheduleFeasibility()` - スケジュールの実現可能性をチェック
- `updateProjectData()` - プロジェクトデータの更新と再計算
- `optimizePageDistribution()` - タスク上限を考慮したページ配分の最適化
- `onTaskLimitChange()` - 週次タスク上限変更時の処理

### ブラウザ要件
- モダンブラウザ（Chrome、Firefox、Safari、Edge）
- JavaScript有効
- ローカルファイルとして実行可能

## カスタマイズ

### 工程のカスタマイズ
タスクサイクルのテキストエリアで工程を自由に変更可能。修正依頼を含む工程は自動的にクライアント側タスクとして分類されます。

### 期間のカスタマイズ
8〜52週間の範囲でプロジェクト期間を調整可能。期間に応じて自動的にスケジュールが最適化されます。

## トラブルシューティング

### Q: 納期までに完了しない
A: 第1週の開始ページ数を増やすか、プロジェクト期間を延長してください。

### Q: 特定の週の負荷が高すぎる
A: 週次タスク上限を設定（例: 15-20）して、自動的に負荷を分散させてください。第1週の開始ページ数の調整も効果的です。

### Q: CSVファイルが文字化けする
A: ExcelでCSVを開く際は、「データ」→「テキストファイル」から開き、文字コードをUTF-8に指定してください。

## ライセンス

このプロジェクトは内部利用を目的としています。

## 更新履歴

- 2025/01/10 - v1.2.0
  - 週次タスク上限設定機能を追加
  - タスク平準化モードを上限設定方式に変更
  - プロジェクト開始日設定機能を追加
  - バグ修正: 動的ミーティング内容の更新
  - バグ修正: 完了率計算の精度向上
- 2025/01/10 - 初版リリース
  - 基本的なスケジュール生成機能
  - CSV エクスポート機能
  - 警告・推奨機能の実装